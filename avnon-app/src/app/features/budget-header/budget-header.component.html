<div class="month-selector">
  <form [formGroup]="dateRange" (ngSubmit)="onSubmit()" class="date-range-form">
    <div class="selector-container">
      <mat-form-field appearance="fill" class="month-field">
        <mat-label>Start Month</mat-label>
        <input
          matInput
          [matDatepicker]="startPicker"
          placeholder="Start month"
          formControlName="start"
        />
        <mat-datepicker-toggle
          matIconSuffix
          [for]="startPicker"
        ></mat-datepicker-toggle>
        <mat-datepicker
          #startPicker
          startView="year"
          (monthSelected)="setMonthAndClose($event, startPicker, 'start')"
        ></mat-datepicker>
        <mat-error *ngIf="dateRange.controls.start.invalid"
          >Start month is required</mat-error
        >
      </mat-form-field>

      <mat-form-field appearance="fill" class="month-field">
        <mat-label>End Month</mat-label>
        <input
          matInput
          [matDatepicker]="endPicker"
          placeholder="End month"
          formControlName="end"
        />
        <mat-datepicker-toggle
          matIconSuffix
          [for]="endPicker"
        ></mat-datepicker-toggle>
        <mat-datepicker
          #endPicker
          startView="year"
          (monthSelected)="setMonthAndClose($event, endPicker, 'end')"
        ></mat-datepicker>
        <mat-error *ngIf="dateRange.controls.end.invalid"
          >End month is required</mat-error
        >
      </mat-form-field>

      <div *ngIf="hasDateRangeError()" class="date-range-error">
        End month cannot be before start month
      </div>
    </div>
  </form>
</div>
